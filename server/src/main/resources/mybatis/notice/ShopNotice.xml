<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.oliveyoung.shopapp.feature.notice.ShopNoticeMapper">

    <select id="selectTbShpNotice"
            parameterType="kr.co.oliveyoung.shopapp.feature.notice.ShopNotice"
            resultType="kr.co.oliveyoung.shopapp.feature.notice.ShopNotice"
    >
        SELECT * FROM TB_SHP_NOTICE
        WHERE str_cd = #{strCd}
        AND del_yn = 'N'
        ORDER BY id DESC
        LIMIT 1
    </select>
    <insert id="insertTbShpNotice"
            parameterType="kr.co.oliveyoung.shopapp.feature.notice.ShopNotice"
    >
        INSERT INTO TB_SHP_NOTICE (
            str_cd,
            text,
            wrtr_usr_id,
            mod_usr_id
        )
        VALUES (
            #{strCd},
            #{text},
            #{wrtrUsrId},
            #{modUsrId}
        )
    </insert>
    <update id="updateTbShpNotice"
            parameterType="kr.co.oliveyoung.shopapp.feature.notice.ShopNotice"
    >
        UPDATE TB_SHP_NOTICE
        SET
            <if test="text != null">text = #{text},</if>
            <if test="delYn != null">del_yn = #{delYn},</if>
            mod_usr_id = #{modUsrId}
        WHERE id = #{id}
    </update>

</mapper>